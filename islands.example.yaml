# Islands Configuration Example
# Copy to islands.yaml and customize for your environment

debug: false
log_level: INFO

# Sync settings
sync_interval: 300  # 5 minutes
max_concurrent_syncs: 4

# MCP server settings
mcp_host: "0.0.0.0"
mcp_port: 8080

# Webhook settings
webhook_enabled: true
webhook_port: 9000

# Storage configuration
storage:
  base_path: /data/islands
  repos_path: /data/islands/repos
  indexes_path: /data/islands/indexes
  cache_path: /data/islands/cache

# LEANN indexing configuration
leann:
  backend: hnsw  # or "diskann" for better search performance
  no_recompute: true  # Materialize tensors to disk
  chunk_size: 512
  chunk_overlap: 64

# Agent configuration (for interactive Q&A)
agent:
  model: gpt-4o
  temperature: 0.1
  max_tokens: 4096
  # system_prompt: "Custom system prompt here"

# Git provider configuration
# Add multiple providers as needed
providers:
  # GitHub
  - type: github
    # base_url: https://github.enterprise.com/api/v3  # For GitHub Enterprise
    token: ${GITHUB_TOKEN}
    webhook_secret: ${GITHUB_WEBHOOK_SECRET}
    rate_limit_requests: 5000
    rate_limit_window: 3600

  # GitLab
  # - type: gitlab
  #   base_url: https://gitlab.com/api/v4
  #   token: ${GITLAB_TOKEN}
  #   webhook_secret: ${GITLAB_WEBHOOK_SECRET}

  # Bitbucket
  # - type: bitbucket
  #   token: ${BITBUCKET_TOKEN}

  # Gitea (self-hosted)
  # - type: gitea
  #   base_url: https://gitea.example.com
  #   token: ${GITEA_TOKEN}

# OpenAI API key for agent
openai_api_key: ${OPENAI_API_KEY}
